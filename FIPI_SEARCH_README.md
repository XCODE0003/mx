# Поиск заданий ФИПИ по номеру

Скрипты для поиска заданий на сайте ФИПИ (Федеральный институт педагогических измерений) по номеру задания.

## 📋 Описание

Эти Node.js скрипты позволяют:
- Искать задания ЕГЭ по номеру (ID)
- Извлекать полную информацию о задании
- Сохранять HTML блоки заданий
- Искать по одной странице или по всем страницам банка заданий

## 🚀 Установка

Скрипты не требуют дополнительных зависимостей, используют только встроенные модули Node.js.

Убедитесь, что у вас установлен Node.js (версия 12.0 или выше):

```bash
node --version
```

## 📖 Использование

### Базовая версия (search_fipi_task.js)

Простой скрипт для поиска на одной странице:

```bash
node search_fipi_task.js
```

**Пример работы:**
```
=== Поиск заданий ФИПИ по ID ===

Введите ID задания (например, C118BD): C118BD

Ищу задание с ID: C118BD...
Загружаю страницу...
Поиск задания...

================================================================================
ЗАДАНИЕ НАЙДЕНО!
================================================================================
ID:           C118BD
GUID:         4A755FB6D299BBBD46FE08685C65055A
КЭС:          2.1 Целые и дробно-рациональные уравнения
Тип ответа:   Краткий ответ
================================================================================
СОДЕРЖАНИЕ:
Найдите корень уравнения 2 + 9 x = 4 x + 3.
================================================================================

Сохранить полный HTML в файл? (y/n):
```

### Расширенная версия (search_fipi_task_advanced.js)

Улучшенная версия с дополнительными возможностями:

```bash
node search_fipi_task_advanced.js
```

**Возможности:**
- ✨ Красивый форматированный вывод
- 🔍 Поиск по всем страницам банка заданий
- 📐 Извлечение математических формул
- 📝 Показ инструкций к заданию
- 💾 Сохранение HTML

**Пример работы:**
```
╔═══════════════════════════════════════════════════════════════════════════════╗
║              ПОИСК ЗАДАНИЙ НА САЙТЕ ФИПИ (ЕГЭ) ПО НОМЕРУ                     ║
╚═══════════════════════════════════════════════════════════════════════════════╝

Введите номер задания (например, C118BD): C118BD
🔍 Поиск задания с номером: C118BD...
Искать на всех страницах? (y/n, по умолчанию: n): n

📥 Загружаю страницу...
🔎 Поиск задания...

═══════════════════════════════════════════════════════════════════════════════
║                            ЗАДАНИЕ НАЙДЕНО!                                 ║
═══════════════════════════════════════════════════════════════════════════════
║ ID:           C118BD                                                        ║
║ GUID:         4A755FB6D299BBBD46FE08685C65055A                              ║
║ КЭС:          2.1 Целые и дробно-рациональные уравнения                    ║
║ Тип ответа:   Краткий ответ                                                ║
═══════════════════════════════════════════════════════════════════════════════

📌 ИНСТРУКЦИЯ:
   Впишите правильный ответ.

📝 СОДЕРЖАНИЕ ЗАДАНИЯ:
   Найдите корень уравнения 2 + 9 x = 4 x + 3.

🔢 ФОРМУЛЫ:
   1. 2 + 9 x = 4 x + 3.

═══════════════════════════════════════════════════════════════════════════════

💾 Сохранить полный HTML в файл? (y/n):
```

## 🔧 Настройка

### Изменение URL

В файлах можно изменить URL для поиска на других страницах или в других разделах:

```javascript
// Базовый URL
const baseUrl = 'https://ege.fipi.ru/bank/questions.php?proj=E040A72A1A3DABA14C90C97E0B6EE7DC&pagesize=500&page=';

// Параметры:
// proj - ID проекта (предмет)
// pagesize - количество заданий на странице (максимум 500)
// page - номер страницы
```

### Коды предметов (proj):

- **Математика профильная**: `E040A72A1A3DABA14C90C97E0B6EE7DC`
- Другие предметы можно найти на сайте ФИПИ

## 📊 Что извлекается

Скрипт извлекает следующую информацию о задании:

1. **ID** - короткий номер задания (например, C118BD)
2. **GUID** - уникальный идентификатор в базе
3. **Block ID** - ID блока в HTML
4. **КЭС** - Кодификатор элементов содержания
5. **Тип ответа** - тип ответа (краткий/развернутый)
6. **Инструкция** - подсказка или инструкция к заданию
7. **Содержание** - текст задания
8. **Формулы** - математические формулы из задания
9. **HTML** - полный HTML блок задания

## 🎯 Примеры использования

### Поиск конкретного задания

```bash
node search_fipi_task_advanced.js
# Введите: C118BD
# Выберите: n (искать только на текущей странице)
```

### Поиск по всем страницам

```bash
node search_fipi_task_advanced.js
# Введите номер задания
# Выберите: y (искать на всех страницах)
```

### Автоматическое использование (без интерактива)

Можно модифицировать скрипт для автоматического поиска:

```javascript
// Добавьте в конец файла:
if (process.argv[2]) {
    const taskId = process.argv[2].toUpperCase();
    // ... код поиска
}
```

Затем запускайте:
```bash
node search_fipi_task_advanced.js C118BD
```

## ⚠️ Ограничения

- Скрипты работают только с публичным банком заданий ФИПИ
- Поиск по всем страницам может занимать время (зависит от скорости интернета)
- HTML структура сайта может измениться, что потребует обновления скриптов
- Некоторые задания могут содержать изображения или интерактивные элементы, которые не извлекаются

## 🐛 Решение проблем

### Ошибка "ENOTFOUND" или "ETIMEDOUT"

Проблема с подключением к интернету или сайт ФИПИ недоступен.

**Решение:**
- Проверьте интернет-соединение
- Попробуйте позже
- Используйте VPN, если сайт заблокирован

### Задание не найдено

**Возможные причины:**
- Неправильный номер задания
- Задание находится на другой странице
- Задание было удалено из банка

**Решение:**
- Проверьте правильность номера
- Используйте поиск по всем страницам (y)
- Проверьте наличие задания на сайте вручную

### Некорректное отображение формул

Формулы извлекаются из MathML и могут отображаться не идеально.

**Решение:**
- Сохраните HTML файл и откройте в браузере
- Формулы будут отображаться корректно в полном HTML

## 📝 Лицензия

Скрипты предназначены только для образовательных целей.
Все задания принадлежат ФИПИ (fipi.ru).

## 🤝 Вклад

Если вы нашли ошибку или хотите улучшить скрипт:
1. Создайте fork проекта
2. Внесите изменения
3. Отправьте pull request

## 📞 Контакты

При возникновении вопросов или проблем создайте Issue в репозитории проекта.

---

**Версия:** 1.0.0  
**Дата:** 2025-11-10  
**Автор:** MX Project Team

